<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>登录/注册</title>
    <script type="text/javascript">
        function checkName() {
            const userName = document.getElementById("userName").value;
            //使用正则校验
            const reg = /^[a-zA-Z0-9]{4,14}$/;
            const nameTip = document.getElementById("nameTip");
            if (reg.test(userName)){
                //成功
                nameTip.innerHTML="用户名格式正确".fontcolor("green");
                return true;
            }else{
                //失败
                nameTip.innerHTML="用户名格式有误！".fontcolor("red");
                return  false;
            }
        }
        function checkPwd() {
            const userPwd = document.getElementById("userPwd").value;
            //使用正则校验
            const reg = /^[a-zA-Z0-9]{6,16}$/;
            const pwdTip = document.getElementById("pwdTip");
            if (reg.test(userPwd)){
                //成功
                pwdTip.innerHTML="密码格式正确".fontcolor("green");
                return true;
            }else{
                //失败
                pwdTip.innerHTML="密码格式有误！".fontcolor("red");
                return  false;
            }
        }
        function checkRepwd() {
            const userPwd = document.getElementById("userPwd").value;
            const rePwd = document.getElementById("rePwd").value;
            const reTip = document.getElementById("reTip");
            if (userPwd==rePwd && rePwd!=0){
                reTip.innerHTML="密码校验正确".fontcolor("green");
                return true;
            }else{
                reTip.innerHTML="前后输入密码不一致".fontcolor("red");
                return false;
            }
        }
        function checkMail() {
            const userMail = document.getElementById("userMail").value;
            //使用正则校验
            const reg = /^[a-zA-Z0-9]+@[a-zA-Z0-9]+(\.[a-zA-Z]{2,3}){1,2}$/;
            const mailTip = document.getElementById("mailTip");
            if (reg.test(userMail)){
                //成功
                mailTip.innerHTML="邮箱格式正确".fontcolor("green");
                return true;
            }else{
                //失败
                mailTip.innerHTML="邮箱格式有误！".fontcolor("red");
                return  false;
            }
        }
        function checkAll() {
            if (checkName() && checkPwd() && checkRepwd() && checkMail()){
                //全部校验都通过了
                return true;
            }else {
                //只要有一个校验没通过
                return  false;
            }
        }
        function register() {
            if (checkAll()){
                window.location.href="register.html";
            }else {
                alert("请填写完毕再提交！")
            }
        }
    </script>
</head>
<body background="photo/bgphoto05.jpg">
    <h1>
        <center><strong><font color="#f0f8ff">注册/登录</font> </strong></center>
    </h1>
    <form action="welcome.html" onsubmit="return checkAll()" method="post">
        <center><font color="#f0f8ff"> 用户名：</font><input type="text" onblur="checkName()" id="userName" /><span id="nameTip"></span></center>
        <br>
        <center><font color="#f5f5dc"> 密&nbsp;&nbsp;&nbsp;码：</font><input type="password" onblur="checkPwd()" id="userPwd" /><span id="pwdTip"></span></center>
        <br>
        <center><font color="#f5f5dc"> 确认密码：</font><input type="password" onblur="checkRepwd()" id="rePwd" /><span id="reTip"></span></center>
        <br>
        <center><font color="#f5f5dc"> 邮&nbsp;&nbsp;&nbsp;箱：</font><input type="text" onblur="checkMail()" id="userMail" /><span id="mailTip"></span></center>
        <br>
        <center><input type="button" value="注册" onclick="register()" />&nbsp;&nbsp;&nbsp;&nbsp;<input type="submit" value="登录"/></center>
    </form>
</body>
</html>